(()=>{var e={811:()=>{var e=document.getElementById("loader");window.addEventListener("load",(function(){setTimeout((function(){e.style.display="none"}),2e3)}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(811);var e=document.querySelector(".card__details"),t=document.querySelectorAll(".card--digits input"),n=document.querySelectorAll(".card--info input"),a=document.querySelector(".result"),o=document.querySelector(".alert-success"),c=document.querySelector(".alert-danger"),l=localStorage.getItem("buyer_name"),s=localStorage.getItem("prodName"),u=localStorage.getItem("prodImage"),i=localStorage.getItem("prodPrice"),d=localStorage.getItem("buyer_country"),y=localStorage.getItem("num_of_items");document.querySelector(".buyerName").textContent=l,document.querySelector(".prodName").textContent="Make Payment For "+y+" "+s+" at ",document.querySelector(".prodImg").src="./img/products/"+u,document.querySelector(".cardN").value=l;var m=[],v=[{code:"US",currency:"USD",currencyName:"",country:"United States"},{code:"NG",currency:"NGN",currencyName:"",country:"Nigeria"},{code:"KE",currency:"KES",currencyName:"",country:"Kenya"},{code:"UG",currency:"UGX",currencyName:"",country:"Uganda"},{code:"RW",currency:"RWF",currencyName:"",country:"Rwanda"},{code:"TZ",currency:"TZS",currencyName:"",country:"Tanzania"},{code:"ZA",currency:"ZAR",currencyName:"",country:"South Africa"},{code:"CM",currency:"XAF",currencyName:"",country:"Cameroon"},{code:"GH",currency:"GHS",currencyName:"",country:"Ghana"}],p=function(){var e,t,r,n=parseInt(y)*parseInt(i),a=(e=n,t=d,(r=v.find((function(e){return e.country===t})))?e.toLocaleString("en-"+r.code,{style:"currency",currency:r.currency}):e.toLocaleString("en-"+v[0].code,{style:"currency",currency:v[0].currency}));document.querySelector("#bill").textContent=a},f=function(e,t){t?("is-invalid"===e.className&&e.classList.remove("is-invalid"),e.classList.remove("is-invalid")):("is-invalid"!==e.className&&e.classList.add("is-invalid"),e.classList.add("is-invalid"))},g=function(){var e=n[1],t=e.value;if(/^(0?[1-9]|1[0-2])\/?([0-9]{2})$/.test(t)||(a.textContent="Please, Your Card Date Shoud Be In This Format - MM/YY. Thank You",c.style.display="block",o.style.display="none",0)){var r=new Date,l=r.getMonth()+1,s=r.getFullYear().toString().slice(-2),u=t.split("/")[0],i=t.split("/")[1];return+u<l&&i<=s||i<s?(f(e,!1),a.textContent="Oh No, Your Card Has Expired",c.style.display="block",o.style.display="none",!1):(f(e,!0),!0)}return f(e,!1),!1},S=function(){if(""===t[0].value||""===t[1].value||""===t[2].value||""===t[3].value)a.textContent="Nooopee, Please Enter Card Numbers",c.style.display="block",o.style.display="none";else{var e=m.flat();if(16!==e.length)return a.textContent="Ooh Nooo, Can You Please Enter Complete Card Numbers",c.style.display="block",void(o.style.display="none");!function(e){var t=0;return e.reverse().forEach((function(e,r){if(r%2>0){var n=2*Number.parseInt(e);t+=n>9?n-9:n}else t+=Number.parseInt(e)})),t%10==0}(e)?(a.textContent="Oooops, You Cannot Use An Invalid Card",c.style.display="block",o.style.display="none",f(t[0],!1),f(t[1],!1),f(t[2],!1),f(t[3],!1)):(f(t[0],!0),f(t[1],!0),f(t[2],!0),f(t[3],!0),a.textContent="Welldone. Payment Was Successful",c.style.display="none",o.style.display="block",document.querySelector(".payButton").style.display="none")}},N=function(){var e,t;S(),e=n[0],t=e.value,/^([a-zA-Z]{3,})\s([a-zA-Z]{3,})$/.test(t)?f(e,!0):(f(e,!1),a.textContent="Oh No, Your Name(s) Is Not Long Enough",c.style.display="block",o.style.display="none"),g()},k=function(t,r,n){var a=["Backspace","Delete","Tab","Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key),o=!1;if((o=r<4?t.key>="0"&&t.key<="9":4===r?t.key>="a"&&t.key<="z"||t.key>="A"&&t.key<="Z"||" "===t.key:t.key>="0"&&t.key<="9"||"/"===t.key)||a){var c,l=t.target,s=l.selectionStart,u=l.value;if(o?r<4&&(void 0===m[r]&&(m[r]=[]),void 0===m[r][s]&&(m[r][s]=[]),t.preventDefault(),m[r][s]+=t.key,l.value=u.substr(0,s)+t.key+u.substr(s+1),m[r]=l.value.split("").map((function(e,t){return e>="0"&&e<="9"?e:m[r][t]})),setTimeout((function(){m[r]=l.value.split("").map((function(e,t){return e>="0"&&e<="9"?e:m[r][t]})),l.value=null===n[r].nextElementSibling?l.value:l.value.replace(/\d/g,"$")}),500)):r<4&&("Backspace"!==t.key&&"Delete"!==t.key||("Backspace"===t.key&&(t.preventDefault(),s=s-1>0?s-1:0),m[r].splice(s,1),l.value=m[r].map((function(e){return"$"})).join(""),l.selectionStart=s)),0===r){var i=m[0];c=i,4===Number.parseInt(c[0])?(e.classList.add("is-visa"),e.classList.remove("is-mastercard")):5===Number.parseInt(c[0])?(e.classList.add("is-mastercard"),e.classList.remove("is-visa")):(e.classList.remove("is-visa"),e.classList.remove("is-mastercard"),e.classList.add("none"),console.log("Oooops, You Card Is Not A Master Card Or A Visa Card"))}b(t,r,n)}else t.preventDefault()},b=function(e,t,r){var n=parseInt(r[t].getAttribute("size"));r[t].value.length===n&&(r[r.length-1]&&r[r.length-1].blur(),r[t]!==r[r.length-1]&&r[t+1].focus())};window.addEventListener("load",(function(){p(),t[0].focus(),[t[0],t[1],t[2],t[3],n[0],n[1]].forEach((function(e,t,r){console.log("fields",r),e.addEventListener("keydown",(function(e){return k(e,t,r)}))})),document.querySelector(".payButton").addEventListener("click",N)}))})()})();